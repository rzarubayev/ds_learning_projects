По результатам проведенного исследовательского анализа данных произведено следующее:
1. Исключены дубликаты в данных;
2. Выявлены и исключены выбросы и редкие значения по следующим признакам:
    - количество комнат `rooms` за пределами межквартильного размаха в 1.5 IQR от Q1 и Q3; 
    - общая площадь `total_area` аналогичным статистическим методом в разрезе количества комнат и типов зданий;
    - целевой признак цены квартиры `price` исходя из цены за квадратный метр в разрезе количества комнат, типов зданий и местоположения объекта методом межквартильного размаха;
    - высота потолков `ceiling_height` путем исключения значений за пределами промежутка от 2-х до 10 метров;
    - в случае наличия пропусков в данных они исключаются из датасета.
3. Проведена обработка вероятно некорректных значений признаков площади кухни `kitchen_area` и жилой площади `living_area`, которая производилась также методом межквартильного размаха, признанные выбросом значения установлены медианой по соотношению к общей площади в разрезе количества комнат и типов зданий.
4. Признак `building_type_int` не является  переименован в `building_type` и преобразован в категориальный.

Для автоматической обработки выбросов подготовлен трансформер и файл для параметров его работы. По результатам обработки признаков можно отметить следующее:
1. В части корреляции целевого признака с остальными:
    - наибольшая корреляция с признаком общей площади `total_area` (0.75), однако зависимость нелинейная и имеет довольно большой разброс;
    - также достаточно высокая корреляция по другим признакам площади `living_area` (0.73) и `kitchen_area` (0.56), однако данные признаким имеют достаточно большую зависимость друг от друга и признака `total_area`;
    - заметная корреляция с количеством комнат `rooms` (0.59), зависимость также нелинейная с большим разбросом;
    - умеренная корреляция с типом здания `building_type` (0.45);
    - также умеренная корреляция с высотой потолков `ceiling_height` (0.45); 
    - слабая корреляция с годом постройки `build_year` (0.11), по остальным признакам корреляция практически отсутствует;
    - средние цены квадратного метра в центральной части Москвы выше и снижаются по мере удаления.
2. В части мультиколлинеарности датасета:
    - очень высокая корреляция между признаками `total_area` и `living_area` - 0.97, что явно говорит о мультиколлинеарности;
    - довольно высокая корреляция признака `rooms` с признаками `living_area` (0.88) и `total_area` (0.85);
    - по признаку `building_type` имеется корреляция с большинством признаков датасета, в частности с `build_year` корреляция составляет 0.72, по остальным признакам ниже.

На основании проведенного EDA в части подготовки дополнительных признаков можно отметить следующее:
- признаки количества комнат и площади имеют нелинейное отношение к целевому, вероятно наличие степенной зависимости. Цена существенно повышается по мере увеличения значения этих признаков.
- возможно более оптимальным вариантом было бы использование не фактического значения признаков площади кухни `kitchen_area` и жилой площади `living_area`, а относительное к общей площади `total_area`;
- для некоторых моделей могут быть полезны признаки нахождения на первом и последнем этажах, однако для моделей, основанных на деревьях решений выделение такого признака не имеет большого значения;
- признак количества этажей в зании можно преобразовать в классы по высоте - небольшой этажности, более высокие и высотки;
- также вероятно полезным может быть плотность квартир на этаж - `flats_count` / `floors_total` или другое их соотношение. Возможно более оптимальным была бы плотность квартир на этаж в подъезде, однако в датасете отсутствуют сведения о количестве подъездов в доме;
- полезными могут быть сведения о наличии лифта на высоких этажах, однако, вероятнее всего, в датасете имеются ошибки в таких сведениях. При этом можно отметить различие средней цены для квартир до 5-го этажа включительно и квартир выше 5-го этажа, в зданиях без лифта;
- в части картографических данных было бы полезно иметь сведения о расстоянии до до центра города , а также до наиболее социально значимых объектов - станции метро, школы, парки и т.д. Однако такие сведения отсутствуют в датасете;
- вероятно имеются и другие сложные или скрытые зависимости между признаками, которые могут быть сгенерированы автоматически.

При проведении исследовательского анализа были определены следующие категориальные признаки - тип здания `building_type`, апартаменты `is_apartment`, наличие лифта `has_elevator`. Признак  студии `studio` был исключен, так как подобные значения отсутствуют в выборке и обучать модель по такому признаку не имеет смысла. Из категориальных признаков только `building_type` не является бинарным. Остальные признаки являются числовыми.


В результате подготовки данных были исключены выбросы значений признаков, поэтому наиболее предпочтительной метрикой является RMSE, результаты можно дополнительно оценивать метрикой MAPE, чтобы понимать расхождение в процентном соотношении. Несмотря на то, что в качестве модели можно выбрать простые модели машинного обучения, в данном проекте планируется применение на ансамблевых методов, наиболее точными из которых являются бустинговые модели. Из бустинговых моделей наибольшую популярность имеют XGBoost, LightGBM и CatBoost. Несмотря на то, что категориальных признаков немного и данные подготовлены для работы любых моделей, выбрана модель CatBoost так как она обладает высокой точностью и простотой настройки параметров. При этом данных не так много, чтобы делать выбор в пользу более быстрых моделей бустинга.

- Метрики: **RMSE**, **MAPE**.
- Модель: **CatBoostRegressor**

Разделение датасета будет производиться на тренировочную и тестовую выборки, с проведением кросс-валидации на тренировочной выборке для определения наилучших параметров для модели. Определены бинарные, категориальные и числовые признаки, а также целевой признак. Бинарные признаки будут закодированы посредством OneHotEncoder. Так как единственный категориальный признак не является порядковым, а количество значений небольшое, его можно кодировать OneHotEncoder и это будет наилучшим выбором для большинства моделей, но в данном проекте решено закодировать его посредством CatBoostEncoder. Для некоторых простых моделей желательно закодировать числовые признаки, чтобы привести их к единому масштабу, однако в данном проекте предполагается использование более продвинутых ансамблевых методов, основанных на деревьях решений, поэтому кодирование числовых признаков не имеет смысла.